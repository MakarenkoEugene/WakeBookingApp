import React from "react";
import { connect } from "react-redux";
import { toggleShowClientNav } from "../action";
import moment from "moment";

const mapStateToProps = (store) => ({
  parkName: store.config.park,
  nowDate: store.date.nowDate,
  nowTime: store.date.nowTime,
  locale: store.date.locale,
  utcOffset: store.date.utcOffset,
});

const mapDispatchToProps = (dispatch) => ({
  toggleShowClientNav: () => dispatch(toggleShowClientNav()),
});

function Info({ toggleShowClientNav, nowDate, nowTime, locale, utcOffset, parkName }) {
  return (
    <div id="info">
      <button id="client_btn" onClick={() => toggleShowClientNav()}>
        <svg
          id="Capa_1"
          enableBackground="new 0 0 512 512"
          height="512"
          viewBox="0 0 512 512"
          width="512"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g>
            <g>
              <path d="m135.758 317.067-40.081 12.84 259.447 161.278 9.499-31.851z" fill="#6f6571" />
              <path d="m352.194 223.935h32.065v240.484h-32.065z" fill="#6f6571" />
              <path
                d="m376.242 448.387h-16.032c-8.854 0-16.032 7.178-16.032 16.032v24.048c0 8.854 7.178 16.032 16.032 16.032h16.032c8.854 0 16.032-7.178 16.032-16.032v-24.048c0-8.854-7.178-16.032-16.032-16.032z"
                fill="#857e87"
              />
              <path d="m352.194 223.935h32.065v40.081h-32.065z" fill="#5d5360" />
              <path
                d="m175.36 341.684-39.602-24.617-40.081 12.84 43.169 26.835c12.862-3.318 25.125-8.419 36.514-15.058z"
                fill="#5d5360"
              />
              <path
                d="m270.563 239.968h217.905c8.854 0 16.032-7.178 16.032-16.032v-24.048c0-106.253-111.257-192.388-248.5-192.388s-248.5 86.135-248.5 192.387v79.316c0 15.245 8.649 29.17 22.314 35.928l19.607 9.696c54.177 26.791 119.822 9.203 153.347-41.085l7.765-11.648c13.382-20.071 35.908-32.126 60.03-32.126z"
                fill="#dad8db"
              />
              <circle cx="87.661" cy="183.855" fill="#c8c5c9" r="48.097" />
              <circle cx="87.661" cy="183.855" fill="#857e87" r="24.048" />
              <path
                d="m112.206 329.85-49.418-24.438c-19.269-9.528-31.24-28.802-31.24-50.298v-123.248-14.605c-15.404 25.037-24.048 53.047-24.048 82.626v79.316c0 15.245 8.648 29.17 22.314 35.928l19.607 9.696c23.733 11.736 49.666 14.951 74.136 10.637z"
                fill="#c8c5c9"
              />
              <path
                d="m99.685 195.879c-13.282 0-24.048-10.767-24.048-24.048 0-3.524.8-6.846 2.162-9.862-8.35 3.771-14.186 12.129-14.186 21.886 0 13.282 10.767 24.048 24.048 24.048 9.757 0 18.116-5.836 21.886-14.186-3.015 1.362-6.337 2.162-9.862 2.162z"
                fill="#6f6571"
              />
            </g>
            <g>
              <path d="m436.308 57.918c-48.243-37.349-112.278-57.918-180.308-57.918s-132.065 20.569-180.308 57.918c-48.811 37.79-75.692 88.208-75.692 141.969v79.316c0 18.228 10.15 34.571 26.489 42.651l19.607 9.696c17.748 8.776 37.125 13.24 56.615 13.239.877 0 1.754-.025 2.631-.043l231.337 143.804c.045 12.938 10.582 23.45 23.53 23.45h16.032c12.976 0 23.533-10.557 23.533-23.532v-24.048c0-7.035-3.107-13.354-8.016-17.67v-199.282h96.709c12.976 0 23.532-10.557 23.532-23.532v-24.048c.001-53.762-26.88-104.18-75.691-141.97zm-285.374 277.414 188.863 117.401c-1.981 3.446-3.12 7.435-3.12 11.687v6.467l-207.381-128.913c2.169-.461 4.333-.964 6.485-1.54 5.179-1.388 10.236-3.099 15.153-5.102zm233.84 153.136c0 4.705-3.828 8.532-8.533 8.532h-16.032c-4.705 0-8.532-3.828-8.532-8.532v-24.048c0-4.705 3.828-8.532 8.532-8.532h16.032c4.705 0 8.533 3.828 8.533 8.532zm-8.016-47.568c-.172-.004-.343-.013-.517-.013h-16.032c-.173 0-.344.009-.516.013v-144.822c0-4.142-3.358-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v142.037l-177.88-110.574c16.785-9.735 31.261-23.236 42.196-39.638l7.766-11.648c12.017-18.025 32.125-28.787 53.788-28.787h74.131v16.548c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-16.548h17.065v193.432zm120.242-216.964c0 4.705-3.828 8.532-8.532 8.532h-217.906c-26.69 0-51.464 13.258-66.269 35.466l-7.766 11.648c-21.49 32.236-57.311 50.153-94.036 50.15-16.822-.001-33.84-3.762-49.747-11.627l-19.607-9.696c-11.187-5.534-18.137-16.724-18.137-29.205v-79.316c0-101.948 108.112-184.888 241-184.888s241 82.94 241 184.887z" />
              <path d="m413.507 80.495c-42.162-31.231-98.099-48.431-157.507-48.431-40.733 0-80.603 8.253-115.299 23.867-3.777 1.7-5.461 6.14-3.761 9.917s6.139 5.461 9.917 3.761c32.775-14.748 70.516-22.545 109.143-22.545 115.208 0 208.936 68.556 208.936 152.823 0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5c0-45.26-23.592-87.661-66.429-119.392z" />
              <path d="m87.661 152.307c-17.396 0-31.548 14.152-31.548 31.548s14.152 31.548 31.548 31.548 31.548-14.152 31.548-31.548-14.152-31.548-31.548-31.548zm0 48.096c-9.125 0-16.548-7.423-16.548-16.548s7.423-16.548 16.548-16.548 16.548 7.423 16.548 16.548-7.423 16.548-16.548 16.548z" />
            </g>
          </g>
        </svg>
      </button>
      <div id="now_date">
        <h2>{parkName}</h2>
        <p>
          {nowDate && nowTime
            ? `${moment(nowDate).locale(locale).utcOffset(utcOffset).format("LL dddd")}\n ${nowTime}`
            : ""}
        </p>
      </div>
    </div>
  );
}

export default connect(mapStateToProps, mapDispatchToProps)(Info);
